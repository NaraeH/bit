<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>생성자 함수</title>
</head>
<body>

	<!-- 
생성자 함수: 객체 생성 후 호출하는 함수, 객체에 필요한 변수와 함수를 등록한다.(객체 초기화) => 일반적인 용도로 호출하지 않는다.
              생성자 함수는 자바와 달리 별도의 문법이 존재하지 않는다.
              생성자 함수의 첫이름은 대문자로 적는다.(규칙은 아니지만 통상적으로 쓰이는 것)
 -->

	<script>
		"use strict";

		//생성자 함수 사용 전
		var student1 = {
			"name" : "홍길동",
			"kor" : 100,
			"eng" : 89,
			"math" : 100
		};

		var student2 = {
			"name" : "임꺽정",
			"kor" : 90,
			"eng" : 80,
			"math" : 70
		};
		var student3 = {
			"name" : "장보고",
			"kor" : 80,
			"eng" : 70,
			"math" : 60
		};
		
		//팩토리 함수 사용방식
		function makeStudent(v1, v2, v3, v4) {
			var obj = {
				"name" : v1,
				"kor" : v2,
				"eng" : v3,
				"math" : v4
			}
			return obj;
			//return obj = {"name" : v1, "kor" : v2, "eng" : v3, "math" : v4} // 이렇게 하는 것이 더 좋음
		}
		
		//생성자함수 사용방식
		//생성자 함수의 호출 전제 조건: 반드시 new 명령을 실행한 후 호출한다.(빈객체 존재)
		//생성자는 return 할 필요가 없다. this라는 내부 히든변수에 값을 넣었기 때문
		function Student(v1, v2, v3, v4){
			//this라는 내부 (히든)변수에는 new 명령으로 만든 객체(의 주소)가 들어있다.
			this.name = v1;
			this.kor = v2;
			this.eng = v3;
			this.math = v4;
		}
			
		//팩토리 함수 사용
		var student4 = makeStudent("홍길동", 100, 100, 100);
		var student5 = makeStudent("임꺽정", 90, 80, 70);
		var student6 = makeStudent("장보고", 80, 70, 60);

		//생성자 함수 사용
		var student7 = new Student("홍길동", 100, 100, 100);
		var student8 = new Student("임꺽정", 90, 80, 70);
		var student9 = new Student("장보고", 80, 70, 60);
		
 		function displayScore(obj){
			console.log("이름: ", obj.name);
			console.log("국어: ", obj.kor);
			console.log("영어: ", obj.eng);
			console.log("수학: ", obj.math);
		}
		
		displayScore(student7);
		displayScore(student8);
		displayScore(student9); 
		
		//생성자 함수는 내부에서 this를 사용하기 때문에 객체를 생성하지 않고 호출하면 에러가 발생한다.
		//var studentx = student("홍길동", 100, 100, 100); //에러: new를 안해 줬으므로 집이 지어지지 않음 속성을 정의할 수 없다고(1층, 2충, 3층... 가구배치X) 나옴
	
	</script>

</body>
</html>